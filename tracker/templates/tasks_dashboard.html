{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task Tracker</title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/dashboard.css' %}">
    <link rel="icon" type="image/x-icon" href="{% static 'images/icon.png' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

</head>
<style>

</style>

<body>
 
    <div class="main-container">
        <!-- Sidebar -->

    <div class="sidebar">
        </br>
        <img id="fusie" src="{% static 'images/img_19.png' %}" alt="Responsive image">
        </br></br></br></br>
        <img id="profile_pic" src="data:image/png;base64,{{ image_base64 }}" alt="Profile Image">
        <h4 id="profile_name"> {{ name }}</h4>
        <!-- <p>{{ employee_id }}</p> -->
        <p id="profile_designation" align="center">{{ designation }}</p>

        </br></br></br>

        <div id="attendance-modal" class="modal-overlay" style="display: none;">
            <div class="modal-content">
                <h2>Attendance</h2>
                <p>Here is the attendance functionality or details.</p>
                <button id="close-modal" class="modal-close">Close</button>
            </div>
        </div>

        <!-- Attendance Button -->
        <div class="sidebar_buttons">
            <a class="sidebar-link" id="task-button" 
            data-default-img="{% static 'images/task_tracker.png' %}" 
            data-active-img="{% static 'images/task_tracker1.png' %}">
                <img src="{% static 'images/task_tracker.png' %}" alt="Task Tracker Icon"> TASK TRACKER
            </a>
            <a class="sidebar-link" id="attendance-button" href="{% url 'calendar' %}"
            data-default-img="{% static 'images/attendance.png' %}" 
            data-active-img="{% static 'images/attendance1.png' %}">
                <img src="{% static 'images/attendance.png' %}" alt="Attendance Icon"> ATTENDANCE
            </a>
            <a class="sidebar-link" id="leave-button" 
            data-default-img="{% static 'images/leavepage.png' %}" 
            data-active-img="{% static 'images/leavepage1.png' %}">
                <img src="{% static 'images/leavepage.png' %}" alt="Leave Tracker Icon"> LEAVE TRACKER

            </a>
            <a class="sidebar_link" id="notifications" 
                href="{% url 'notifications_page' %}"
                data-default-img="{% static 'images/leavepage.png' %}" 
                data-active-img="{% static 'images/leavepage1.png' %}">
                <img src="{% static 'images/leavepage.png' %}" alt="notifications Icon"> NOTIFICATIONS
            </a>

            <a class="sidebar_link" id="project-button" 
            href="{% url 'project_tracker' %}" 
            data-default-img="{% static 'images/leavepage.png' %}" 
            data-active-img="{% static 'images/leavepage1.png' %}" 
            style="display: none;">
            <img src="{% static 'images/leavepage.png' %}" alt="Project Tracker Icon"> PROJECT TRACKER
            </a>
        </div>

        <a  class="sign-out sidebar-link" id="signout-button"
            data-default-img="{% static 'images/signout.png' %}"
            data-active-img="{% static 'images/signout1.png' %}">
            <img src="{% static 'images/signout.png' %}" alt="Sign Out Icon"> SIGN OUT
        </a>
    </div>
        
        <!-- Main Content -->
 <div class="content" >
    <div id="first-box">
        <!-- Clock section -->
        <div class="date-time">
            <div class="date" id="current-date1"></div>
            <div class="time" id="current-time1"></div>
        </div>
        
        <div class="date-time-container">
                    <!-- Date and Time -->

            <!-- Events Section -->
            <!-- style="background-image: url('{% static "images/img_20.png" %}');" -->
            <div class="events-section">
                <div class="events-header">   
                    <h4 id="greeting"><span id="dynamic-greeting"></span>, {{ name }}!</h4>
                    <p>You have 4 tasks for today.</p>
            
                </div>
                <div class="events-list">
                    <div class="event-time">09:30 AM</div>
                    <div class="event-details">
                        <p>Design Team Meeting</p>
                        <strong>Weekly Review</strong>
                    </div>
                
                    <div class="event-time">01:30 PM</div>
                    <div class="event-details">
                        <p>Conference Discussion</p>
                        <strong>New Project Discussion</strong>
                    </div>
                
                    <div class="event-time">04:30 PM</div>
                    <div class="event-details">
                        <p>Stakeholder Meeting</p>
                        <strong>Practical Review</strong>
                    </div>
                </div>
                
            </div>
        </div>
    </div>    
<div class="task-header">
    <div class="filters">
        <div class="task-header" id="initial">23</div>
      </div>
    <div class="filters">
      <select class="task-select">
        <option>All Tasks</option>
        <option>Other</option>
      </select>
    </div>
    <div class="filters_lock">
        <div id="lock_button">
            <img id="lock" src="{% static 'images/lockbutton.png' %}">
        </div>
      <select id="task_select">
        <option>Marine Engineering</option>
        <option>Other</option>
      </select>
    </div>

        <input
            type="text"
            class="task-search"
            placeholder="Search for Tasks"
        />
        <img src="{% static 'images/search_icon.png' %}" alt="Search Icon" class="search-icon">
    <div class="filters">
      <select class="task-select">
        <option>Assigned Tasks</option>
        <option>Other</option>
      </select>
    </div>
  </div>

           <!-- Task Tracker -->
    <div class="scroll">
        <div class="arrow1 left" id="left-arrow"><img src="/static/images/left_arrow.png"></div>
        <div class="tasks">
            <div class="row1">
                <!-- Task Card 1 -->
                <div id="blue_box"></div>
                <div class="task-card2">
                    <h4>Q3 Asia Barge Concept Design</h4> <!-- TITLE -->
                    <div class="priority">NORMAL</div><!-- priority -->
                    <p id="project_hd">Internal Project </p><!-- Project -->
                    <p>FE/ME-1687/REV: 2</p><!-- D.NO & REV NO -->
                    <table class="details">
                        <thead>
                            <tr>
                                <th>Discussion</th><!-- CATEGORY -->
                                <th>Calculating</th><!-- CATEGORY -->
                                <th>Designing</th><!-- CATEGORY -->
                                <th>Modelling</th><!-- CATEGORY -->
                                <th>Checking</th><!-- CATEGORY -->
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>4 hrs</td><!-- TIME -->
                                <td>14 hrs</td><!-- TIME -->
                                <td>18 hrs</td><!-- TIME -->
                                <td>20 hrs</td><!-- TIME -->
                                <td>10 hrs</td><!-- TIME -->
                            </tr>
                        </tbody>
                    </table>
                    <div class="actions">
                        <button id="info_button"><i class="fas fa-info-circle"></i> Info</button>
                        <button id="editTask_button"><i class="fas fa-edit"></i> Edit Task</button>
                        <button id="timeSheet_button"><i class="fas fa-calendar-alt"></i> Manual Time Sheet</button>
                    </div>
                </div>
            </div>

                <!-- Task Card 2 -->
            <div class="row1">
                <div id="blue_box"></div>
                <div class="task-card2">
                    <div class="priority">HIGH</div>
                    <h4>Q3 Asia Barge Concept Design</h4>
                    <p id="project_hd">Internal Project </p>
                    <p>FE/ME-1687/REV: 2</p>
                    <table class="details">
                        <thead>
                            <tr>
                                <th>Discussion</th>
                                <th>Designing</th>
                                <th>Calculating</th>
                                <th>Modelling</th>
                                <th>Checking</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>4 hrs</td>
                                <td>18 hrs</td>
                                <td>14 hrs</td>
                                <td>20 hrs</td>
                                <td>10 hrs</td>
                            </tr>
                        </tbody>
                    </table>
                    <div class="actions">
                        <button id="info_button"><i class="fas fa-info-circle"></i> Info</button>
                        <button id="editTask_button"><i class="fas fa-edit"></i> Edit Task</button>
                        <button id="timeSheet_button"><i class="fas fa-calendar-alt"></i> Manual Time Sheet</button>
                    </div>
                </div>
            </div>    
            
            <div class="row1">
                <div id="blue_box"></div>
                <!-- Task Card 3 -->
                <div class="task-card2">
                    <h4>Q3 Asia Barge Concept Design</h4>
                   <p id="project_hd">Internal Project </p>
                    <p>FE/ME-1687/REV: 2</p>
                    <table class="details">
                        <thead>
                            <tr>
                                <th>Discussion</th>
                                <th>Calculating</th>
                                <th>Designing</th>
                                <th>Modelling</th>
                                <th>Checking</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>4 hrs</td>
                                <td>14 hrs</td>
                                <td>18 hrs</td>
                                <td>20 hrs</td>
                                <td>10 hrs</td>
                            </tr>
                        </tbody>
                    </table>
                    <div class="actions">
                        <button id="info_button"><i class="fas fa-info-circle"></i> Info</button>
                        <button id="editTask_button"><i class="fas fa-edit"></i> Edit Task</button>
                        <button id="timeSheet_button"><i class="fas fa-calendar-alt"></i> Manual Time Sheet</button>
                    </div>
                </div>
            </div>
            </div>
            <div class="arrow1 right" id="right-arrow"><img src="/static/images/right_arrow.png"></div>
        </div>
        <div class="task-buttons">
            <div class="task-button" id="openPopupButton2">
                <img src="/static/images/add_button.png">
                <span><a>CREATE TASK</a></span>
                <img src="/static/images/blue_arrow.png">
            </div>
            <div class="task-button" id="openPopupButton">
                <img src="/static/images/edit_button.png">
                <span><a >EDIT ALL TASKS</a> </span>
                <img src="/static/images/blue_arrow.png">
            </div>
        </div>
        <div class="task-button" id="manual_timesheet">
            <img src="/static/images/manual_button.png">
            <span><a>MANUAL TIMESHEET</a></span>
            <img src="/static/images/blue_arrow.png">
        </div>

        <section class="timesheet">
            <div class="timesheet-header">
                <h3>My Daily Timesheet</h3>
                <div class="date-picker">
                    <form id="form_date" method="get">
                        <input type="date" id="date-input" name="date">
                        <span id="selected-date">Selected Date: {{ selected_date|date:'l, F j, Y' }}</span>
                    </form>
                    <button id="date_in_daily_timesheet" type="submit">GET</button>
                   
                </div>
            </div>
            <div class="timesheet-content" id="timesheetContent">
                <!-- Tasks will be populated here dynamically -->
            
                <!-- Move calendar inside timesheetContent -->
                <div id="calendarContainer" style="display: none;">
                    <div class="calendar-navigation">
                        <button id="prevMonthBtn" class="nav-button">&#8249;</button>
                        <span id="currentMonthDisplay"></span>
                        <button id="nextMonthBtn" class="nav-button">&#8250;</button>
                    </div>
            
                    <div id="calendar" class="calendar-grid">
                        <!-- Calendar days will be dynamically generated -->
                    </div>
                </div>
            </div>
            
            <!-- <button id="calendarViewButton" style="margin-top: 10px;">View Calendar</button> -->
            
        </section>
    

</div>
    <div class="right-sidebar">
        <!-- My Team Section -->
        <div id="my-team">
            <section class="team-performance">
                <h3 id="my_project">MY PROJECT - MARINE ENGINEERING</h3>
                <p>Team Performance for October, 2024</p>
                <div class="team-stats">
                    <div class="stat">
                        <p>Total Tasks</p>
                        <h4 class="stats_1">42</h4>
                        </div>
                    <div class="stat">
                        <p>Assigned</p>
                        <h4>30</h4>
                        </div>
                    <div class="stat">
                        <p>Pending</p>
                        <h4>18</h4>
                        </div>
                    <div class="stat">
                        <p>Completed</p>
                        <h4>12</h4>
                    </div>
                </div>
                    

                <h3 id="team_member">Team Members</h3>
                <div class="team-stats">
                    <div class="member">
                        <img src="{% static 'images/R.png' %}" alt="Me" >
                        <span>Me</span>
                    </div>
                    <div class="member">
                        <img src="{% static 'images/R.png' %}" alt="Priya Ganesh">
                        <span>Priya Ganesh</span>
                    </div>
                    <div class="member">
                        <img src="{% static 'images/R.png' %}" alt="Afzal K">
                        <span>Afzal K</span>
                    </div>
                    <div class="member">
                        <img src="{% static 'images/R.png' %}" alt="Ajith Kumar">
                        <span>Ajith Kumar</span>
                    </div>
                    <div class="member">
                        <img src="{% static 'images/R.png' %}" alt="Liya Paul">
                        <span>Liya Paul</span>
                    </div>
                </div>
            </section>
        </div>

        <div id="task-details">
            <!-- Task Details Section -->
            <section class="task-card">
                <h3 id="task_details">TASK DETAILS</h3>
                <div class="task-placeholder">
                    <div class="info-box">
                        
                        <img src="{% static 'images/Vector.png' %}" alt="info icon" class="info-icon">
                        <p>Click on the info button of a particular task to view corresponding task details.</p>
                    </div>
                </div>                
            </section>
        </div>

        <div id="team-status">
            <!-- Status of Team Projects Section -->
            <section class="team-projects">
                <h3 id="status">STATUS OF TEAM PROJECTS</h3>
                <p>Project Status for October, 2024</p>
                <div class="project-tabs">
                    <button class="tab active">Running</button>
                    <button class="tab">Revisions</button>
                    <button class="tab">Upcoming</button>
                </div>
                <div class="scroll-container">
                    <div class="arrow up-arrow" id="up-arrow"><img src="{% static 'images/up_arrow.png' %}"></div>
                    
                    <div class="project-list" id="scrollable-list">
                        <div class="project-item">RORO Bridge <span>DEME</span></div>
                        <div class="project-item">PANAMA Chock Support <span>Value Maritime</span></div>
                        <div class="project-item">JB-119 Boatlanding <span>CADELER</span></div>
                        <div class="project-item">New Project <span>Company XYZ</span></div>
                        <div class="project-item">Future Project <span>Another Company</span></div>
                    </div>
                
                    <div class="arrow down-arrow" id="down-arrow"><img src="{% static 'images/down_arrow.png' %}"></div>
                </div>
                
            </section>
        </div>
    </div>

    <!--LEAVE TRACKER PAGE-->
    <div class="leave_tracker" style="display: none;">
        <div class="leave-status">
            <div class="leave-statistics">
                <h2 id="ls_hd">LEAVE STATISTICS FOR THE YEAR 2025</h2>
                <div class="pie-container">
                    <div id="pie_chart"></div>
                    <div id="pie_chart_content">
                        <div class="legend">
                            <div class="legend-header">
                                <span class="legend-number">12</span>
                                <span class="legend-title">Balance <br>Leave Available</span>
                            </div>
                            <div class="legend-items">
                                <div class="legend-item">
                                    <span class="legend-color" style="background-color: #6389DA;"></span>
                                    <span class="legend-text">Balance Leave Available</span>
                                </div>
                                <div class="legend-item">
                                    <span class="legend-color" style="background-color: #A5BDF1;"></span>
                                    <span class="legend-text">Full Day Leave Taken</span>
                                </div>
                                <div class="legend-item">
                                    <span class="legend-color" style="background-color: #DAE6FB;"></span>
                                    <span class="legend-text">Half Day Leave Taken</span>
                                </div>
                                <div class="legend-item">
                                    <span class="legend-color" style="background-color: #EEF3FF;"></span>
                                    <span class="legend-text">Work from Home Taken</span>
                                </div>
                            </div>
                            <div class="legend-footer">Know More About Company<br> Leave Policy</div>
                        </div>
                    </div>
                    
                </div>
            </div>            
            <div class="upcoming-holidays">
                <h2 id="uh_hd">UPCOMING HOLIDAYS FOR THE YEAR 2025</h2>
                <div class="holiday-table" id="holiday-container">
                    <div class="holiday-row">
                        <span class="holiday-name">Loading holidays...</span>
                    </div>
                </div>                  
            </div>


            <div class="apply-leave">
                <div class="leave-form">
                        <div class="leave-left">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="from_date">FROM</label>
                                    <div class="from_div"> 
                                        <input type="date" id="from_date" name="from_date">
                                        <span id="selected-from"></span>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="to_date">TO</label>
                                    <div class="to_div"> 
                                        <input type="date" id="to_date" name="to_date">
                                        <span id="selected-to"></span>
                                    </div>
                                </div>
                            </div>
                    
                            <div class="form-group">
                                <label for="leave-type" class="select_type">SELECT LEAVE TYPE</label>
                                <select id="leave-type" name="leave-type" required>
                                    <option value="" disabled selected>Select</option>
                                    <option value="Full Day">Full Day</option>
                                    <option value="Half Day">Half Day</option>
                                    <option value="Work From Home">Work From Home</option>
                                </select>
                            </div>
                    
                            <div class="form-group">
                                <label class="notify_hd" for="notify">NOTIFY</label>
                                <select id="notify" name="notify" required>
                                    <option value="" disabled selected>Select</option>
        
                                </select>
                                <small>Note: These employees will be notified through email when your leave request is approved.</small>
                            </div>
                        </div>
            
                        <div class="leave-right">
                            <div class="reason-group">
                                <label id="reason_hd" for="reason">REASON</label>
                                <textarea id="reason" name="reason" required placeholder="Enter your reason"></textarea>
                            </div>
                    
                            <div class="form-actions">
                                <button type="submit" class="submit-leave-btn">Request Leave</button>
                                <button type="button" class="btn btn-secondary">Cancel</button>
                            </div>
                        </div>
                </div>
            </div>
            
            <div class="calendar-view">
                <div class="calendar_header">
                    <button id="prevMonth"><img id="arrow_left" src="{% static 'images/arrow_left.png' %}"></button>
                    <h2 id="monthYear"></h2>
                    <button id="nextMonth"><img id="arrow_right" src="{% static 'images/arrow_right.png' %}"></button>
                </div>
                <div class="calendar-days">
                    <div>Su</div> <div>Mo</div> <div>Tu</div> <div>We</div> <div>Th</div> <div>Fr</div> <div>Sa</div>
                </div>
                <div id="calendarDates" class="calendar-dates"></div>
                <button class="apply-btn"><img id="calendar-check" src="{% static 'images/calendar-check.png' %}">Apply for Leave</button>
            </div>
        </div>
        <div class="holiday-calendar-container">
    <div class="leave-history">
        <div class="leave-history-header">
            <span>Past Leave History</span>
            <img id="filter_button" src="{% static 'images/filter_button.png' %}">
            <button type="button" class="btn btn-primary" id="approvals-btn" onclick="toggleButton()">APPROVALS</button>
        </div>
        <div class="leave-history-content">
            <div id="leave-container" style="display: block;">
                <div id="edit-modal" class="modal">
                    <div class="modal-content">
                        <button class="close-btn" onclick="closeModals()">&times;</button>
                        <h2>Edit Leave Application</h2>
                        <input type="hidden" id="edit-leave-id">
                        <label>Start Date:</label>
                        <input type="date" id="edit-start-date" required>
                        <label>End Date:</label>
                        <input type="date" id="edit-end-date" required>
                        <label>Reason:</label>
                        <textarea id="edit-reason" required></textarea>
                        <label for="leave-type">Leave Type:</label>
                        <select id="edit-leave-type" class="modal-select" required>
                            <option value="Full Day">Full Day</option>
                            <option value="Half Day">Half Day</option>
                            <option value="Work From Home">Work From Home</option>
                        </select>
                        <button onclick="updateLeavedata()">Update Leave</button>
                        <button class="close-btns" onclick="closeModals()"></button>
                    </div>
                </div>
            </div> <!-- Initially visible -->
            
            <div id="approval-container" style="display: none;"></div> <!-- Initially hidden -->
        </div>
    </div>
</div>
  
    </div>
    
</div>
    <!-- The div to contain the hidden popup form -->
    <div id="popupModal" class="popup-modal">
        <div class="popup-content">
            <!-- Header Section -->
        <div class="header">
            <h1>EDIT ALL TASKS</h1>
            <button id="openPopupButton" class="copy-task-btn">
                <i class="fas fa-copy"></i> Copy Task
            </button>
        </div>

        <p>HYWIND SCOTLAND MAIN COMPONENT EXCHANGE</p>

        <!-- Dropdowns (Populated via API) -->
        <div class="dropdown-row">
            <!-- <select id="taskTitle2">
                <option  id="taskTitle2" placeholder="Select title">Select title</option>
            </select> -->
        </div>
            <form id="editTaskForm">
                <div class="form-group3">
                    <label for="id_listedittask">DEPARTMENT</label>
                    <select id="id_listedittask">
                    </select>
                </div>
                <div class="form-group3">
                    <label for="id_projectedittask">Project</label>
                    <select id="id_projectedittask">
                    </select>
                </div>
                <div class="form-group3">
                    <label for="id_scopeedittask">Scope</label>
                    <select id="id_scopeedittask">
                        <option>Select Scope</option>
                    </select>
                </div>
                <div class="form-group3">
                    <label for="taskTitleedittask">TITLE</label>
                    <select id="taskTitleedittask">
                    </select>
                </div>
                <div class="form-group3">
                    <label for="id_revnoedittask">REV NO</label>
                    <select id="id_revnoedittask"></select>
                </div>

                <div class="form-group">
                    <label for="taskTitle3">Title:</label>
                    <input type="text" id="taskTitle3" placeholder="Enter task title">
                </div>
                <div class="form-group">
                    <label for="id_dnoedittask">D NO</label>
                    <input type="text" id="id_dnoedittask" placeholder="Enter task d no">
                </div>
                <div class="form-group">
                    <label for="id_priorityedittask">Priority</label>
                    <select id="id_priorityedittask">
                    </select>
                </div>
                <div class="form-group">
                    <label for="id_assigned_toedittask">Assigned To</label>
                    <input type="text" id="id_assigned_toedittask" placeholder="Enter task Assigned">
                </div>
                <div class="form-group">
                    <label for="id_checkeredittask">Checker</label>
                    <input type="text" id="id_checkeredittask" placeholder="Enter task Checker">
                </div>
                <div class="form-group">
                    <label for="id_qc_3_checkeredittask">QC-3 Checker</label>
                    <input type="text" id="id_qc_3_checkeredittask" placeholder="Enter task QC-3 Checker">
                </div>
                <!-- <div class="form-group">
                    <label for="id_groupedittask">Group</label>
                    <input type="text" id="id_groupedittask" placeholder="Enter task Group">
                </div> -->
                <div class="form-group">
                    <label for="id_categoryedittask">Category</label>
                    <select id="id_categoryedittask">
                    </select>
                </div>
                <div class="form-group">
                    <label for="id_start_dateedittask">Start Date</label>
                    <input type="date" id="id_start_dateedittask">
                </div>
                <div class="form-group">
                    <label for="id_end_dateedittask">End Date</label>
                    <input type="date" id="id_end_dateedittask">
                </div>
                <div class="form-group">
                    <label for="id_verification_statusedittask">ISO Verification Status</label>
                    <select id="id_verification_statusedittask">
                    </select>
                </div>
                <div class="form-group">
                    <label for="id_task_statusedittask">Task Status</label>
                    <select id="id_task_statusedittask">
                    </select>
                </div>
            </form>
                <div class="form-group">
                    <button id="savetask_updatetask">Update Task</button>
                    <button id="closePopupButton_updatetask">Close</button>
                </div>
          
           
        </div>
    </div>

<!-- Popup Container with updated ID -->
<!-- Popup Container with updated IDs -->
<div class="popup-overlay" id="timesheetpopup">
    <div class="popup-content">
        <span class="close-btn4" id="closePopupButton">&times;</span>
        <h2>Manual Timesheet</h2>

        <div class="popup-grid">
            <!-- Left Panel -->
            <div class="left-panel">
                <div class="form-group3">
                    <label>Select Date</label>
                    <input type="date" id="date1" required>
                </div>

                <div class="form-group3">
                    <label>Select Department</label>
                    <select id="projectListSelect" required></select>
                </div>

                <div class="form-group3">
                    <label>Project Type</label>
                    <select id="projectTypeSelect" required></select>
                </div>

                <div class="form-group3">
                    <label>Scope</label>
                    <select id="scopeSelect" required></select>
                </div>

                <div class="form-group3">
                    <label>Task</label>
                    <select id="TaskSelect" required></select>
                </div>

                <div class="form-group3">
                    <label>Phase</label>
                    <select id="phaseSelect" required></select>
                </div>

                <div class="form-group3">
                    <label>Phase Status</label>
                    <select id="phaseStatusSelect">
                        <option value="completed">Completed</option>
                        <option value="paused">Paused</option>
                        <option value="in_progress">In Progress</option>
                    </select>
                </div>

                <div class="form-group3">
                    <label>Hours</label>
                    <input type="number" id="time" step="0.1" min="0" value="2.75" required>
                </div>

                <div class="form-group3">
                    <label>Comments</label>
                    <input type="text" id="comments" required>
                </div>

                <!-- <div class="form-group3">
                    <button type="button" onclick="submitTimesheet()">Submit Timesheet</button>
                </div> -->
            </div>


<!-- Right Panel -->
<div class="right-panel">
    <div class="tab-buttons">
        <button class="tab-button active" onclick="showTab('taskDetails')">Task Details</button>
        <button class="tab-button" onclick="showTab('benchmark')">Benchmark</button>
        <button class="tab-button" onclick="showTab('totalTime')">Total Time</button>
    </div>

    <!-- Task Details -->
    <div id="taskDetails" class="tab-content" style="display: block;">
        <table class="task-table">
            <tr><th>Title</th><td id="taskTitle">-</td></tr>
            <tr><th>Project Type</th><td id="projectType">-</td></tr>
            <tr><th>Scope</th><td id="taskScope">-</td></tr>
            <tr><th>Category</th><td id="taskCategory">-</td></tr>
            <tr><th>Priority</th><td id="taskPriority">-</td></tr>
        </table>
    </div>

    <!-- Benchmark Chart -->
    <div id="benchmark" class="tab-content">
        <canvas id="benchmarkChart"></canvas>
    </div>

    <!-- Total Time Chart -->
    <div id="totalTime" class="tab-content">
        <canvas id="timeChart"></canvas>
    </div>
</div>
</div>

<div class="button-container">
    <button type="button" id="submitTimesheetButton">Submit Timesheet</button>
<button id="closePopupButton_manualtimesheet">Close</button>
</div>

    </div>
</div>


    <!-- CREATE TASK -->
 <!-- Popup Modal -->
 <div id="taskModalPopup" class="popup-modal">
        <h2>Create Task</h2>
        <form id="createTaskForm">
            <div class="form-group">
                <label for="taskTitlecreatetask">Title:</label>
                <input type="text" id="taskTitlecreatetask" placeholder="Enter task title">
            </div>
            <div class="form-group">
                <label for="id_listcreatetask">DEPARTMENT:</label>
                <select id="id_listcreatetask">
                    <option value="">Select List</option>
                </select>
            </div>
            <div class="form-group">
                <label for="id_projectcreatetask">Project:</label>
                <select id="id_projectcreatetask">
                    <option value="">Select Project</option>
                </select>
            </div>
            <div class="form-group">
                <label for="id_scopecreatetask">Scope:</label>
                <select id="id_scopecreatetask">
                </select>
            </div>
            <div class="form-group">
                <label for="id_categorycreatetask">Category:</label>
                <select id="id_categorycreatetask">
                </select>
            </div>
            <div class="form-group">
                <label for="id_revnocreatetask">REV NO</label>
                <input type="text" id="id_revnocreatetask" placeholder="Enter task rev no">
            </div>
            <div class="form-group">
                <label for="id_dnocreatetask">D NO</label>
                <input type="text" id="id_dnocreatetask" placeholder="Enter task d no">
            </div>
            <div class="form-group">
                <label for="id_prioritycreatetask">Priority:</label>
                <select id="id_prioritycreatetask">
                </select>
            </div>
            <div class="form-group">
                <label for="assignedTocreatetask">Assigned To:</label>
                <input type="text" id="assignedTocreatetask" placeholder="Enter task Assigned">
            </div>
            <div class="form-group">
                <label for="checkercreatetask">Checker:</label>
                <input type="text" id="checkercreatetask" placeholder="Enter task Checker">
            </div>
            <div class="form-group">
                <label for="qcCheckercreatetask">QC-3 Checker:</label>
                <input type="text" id="qcCheckercreatetask" placeholder="Enter task QC-3 Checker">
            </div>
            <!-- <div class="form-group">
                <label for="groupcreatetask">Group:</label>
                <input type="text" id="groupcreatetask" placeholder="Enter task Group">
            </div> -->
            
            <div class="form-group">
                <label for="startDatecreatetask">Start Date:</label>
                <input type="date" id="startDatecreatetask">
            </div>
            <div class="form-group">
                <label for="endDatecreatetask">End Date:</label>
                <input type="date" id="endDatecreatetask">
            </div>
            <div class="form-group">
                <label for="id_verification_statuscreatetask">ISO Verification Status:</label>
                <select id="id_verification_statuscreatetask">
                </select>
            </div>
            <div class="form-group">
                <label for="id_task_statuscreatetask">Task Status:</label>
                <select id="id_task_statuscreatetask">
                </select>
            </div>
        </form>
        <div class="form-group">
            <button id="savetask_creatask" style="display: none;">Save Task</button>
            <button id="aproover_creattask" style="display: none;">Approver</button>
            <button id="closePopupButton_creattask">Close</button>
            
            <div id="dropdownContainer" style="display: none; border: 1px solid #ccc; padding: 10px; background-color: #f9f9f9; width: 200px; position: absolute;">
                <!-- Dynamically populated list will go here -->
            </div>
        </div>
        
       
</div>
  <!-- Alert Modal -->
<div id="alertModal">
    <span id="closeModal">&times;</span>
    <h3 id="modalTitle">Selected: </h3>
    <button id="okButton">OK</button>
</div>
  

<script>

</script>
    <script src="{% static 'js/attendence.js' %}"></script>
    <script src="{% static 'js/task_dashbord.js' %}"></script>
    <script src="{% static 'js/leavepage.js' %}"></script>
</body>
</html>