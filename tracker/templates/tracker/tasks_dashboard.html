<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task Dashboard</title>
   {% load static %}
    <link rel="icon" type="image/x-icon" href="{% static 'images/icon.png' %}">
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet"> <!-- Font Awesome CSS -->
    <style>
        body {
            font-family: Arial, sans-serif;
        }

        /* Sidebar Styling */
        .sidebar {
            position: fixed;
            height: 100%;
            width: 80px;
            background-color: black;
            padding: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .sidebar a {
            margin: 20px 0;
            text-align: center;
            font-size: 0.75rem;
            text-decoration: none;
            font-weight:bold;
        }

        .sidebar a img {
            width: 40px;
            height: 40px;
        }

        /* Main Content */
        .content {
            margin-left: 100px;
            padding: 20px;
        }

        .toggle {
            display: flex;
            align-items: center;
          }

          .toggle input[type="checkbox"] {
            display: none;
          }

          .toggle label {
            padding: 8px 12px;
            border-radius: 20px;
            background-color: lightgray;
            cursor: pointer;
            display: inline-block;
          }

          .toggle span {
            font-size: 1.5rem;
            margin-right: 10px;
          }

          /* Styling for checked state */
          .toggle input[type="checkbox"]:checked + label:nth-of-type(1) {
            background-color: lightblue;
            color: black;
          }

          .toggle input[type="checkbox"]:checked + label:nth-of-type(2) {
            background-color: lightcoral;
            color: black;
          }

          /* Styling for unchecked state */
          .toggle label:nth-of-type(2) {
            display: none;
          }

          .toggle input[type="checkbox"]:checked ~ label:nth-of-type(2) {
            display: inline-block;
          }

          .toggle input[type="checkbox"]:checked ~ label:nth-of-type(1) {
            display: none;
          }
        .dropdown {
            margin-left: 20px;
        }

        /* Task details card */
        .task-details {
            display: flex;
            flex-direction: column;

            margin-top: 20px;
            margin-right: 50px;
        }

        .task-details .card {
            width: 100%;  /* Full width of container */
            height: 25%;
            padding: 70px;
            margin-bottom: 20px; /* Space between cards */
            border-radius: 10px;
            box-shadow: 0px 0px 5px rgba(0,0,0,0.1);
        }

        .left-container {
            width: 65%;
            height: 700px;
            padding: 15px;
            margin-right: 20px;
            margin-left: 50px;
            border-radius: 10px;
            box-shadow: 0px 0px 5px rgba(0,0,0,0.1);
        }

        .img-fluid{
            width: 170px;
            height: 45px;
            object-fit: fill;
            margin-bottom: 10px;
        }

        /* Time and project details */
        .time-details {
            text-align: right;
        }

        /* Search bar styling */
        .search-bar {
            display: flex;
            align-items: center;
            margin-left: auto;
        }

        .search-bar input {
            width: 600px;
            padding: 6px;
            border-radius: 5px;
            border: 1px solid #ccc;
        }

        /* Time and Date Styling */
        #current-time {
            font-size: 1.2rem;
            margin-right: 25px;
            font-weight: bold;
        }

        #current-date {
            font-size: 1rem;
            color: black;
            margin-right: 8px;
            font-weight: bold;

        }

        .content-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

    </style>
</head>
<body>

    <!-- Sidebar -->
    <div class="sidebar">
        <a href="{% url 'home' %}"><img src="{% static 'images/img_4.png' %}" alt="Home">HOME</a>
        <br><br><br>
        <a href="{% url 'create_task' %}"><img src="{% static 'images/img.png' %}" alt="Tasks">CREATE TASK</a>
        <a href="{% url 'task_dashboard' %}"><img src="{% static 'images/img_1.png' %}">REFRESH</a>
        <a href="{% url 'daily_timesheet' %}"><img src="{% static 'images/img_2.png' %}" alt="Calendar">DAILY OVERVIEW</a>
        <a href="#"><img src="{% static 'images/img_3.png' %}" alt="Calendar">MANUAL TIMESHEET</a>
    </div>

    <!-- Main content area -->
    <div class="content">
        <div class="content-header">
                <h2>TASKS:</h2>
        </div>
        <div align="right">
        <img src="{% static 'images/Fusie Engineers Logo - white -cropped (1).jpg' %}"  class="img-fluid">
            <br>
                <div id="current-time"></div>
                <div id="current-date"></div>
        </div>
        <br>
        <br>

        <!-- Task Toggle & Dropdowns -->
        <div class="d-flex justify-content-start align-items-center">
            <div class="toggle">
              <input type="checkbox" id="task-toggle" class="mr-2">
              <span></span>
              <label for="task-toggle" class="ml-2">ALL TASK</label>
              <label for="task-toggle" class="ml-2">UNUPDATED TASK</label>
            </div>
            <div class="search-bar">
                <input type="text" placeholder="Search...">
            </div>
            <div class="dropdown ml-3">
                <select class="form-control">
                    <option>ASSIGNED TASK</option>
                    <option>GROUP TASK</option>
                    <option>QC-2 CHECKING TASK</option>
                    <option>QC-3 CHECKING TASK</option>
                </select>
            </div>

            <div class="dropdown ml-3">
                <select class="form-control">
                    <option>PIPING</option>
                    <option>STRUCTURAL</option>
                    <option>CALCULATION</option>
                    <option>LIFTING & RIGGING</option>
                    <option>MARINE ENGINEERING</option>
                    <option>ANIMATION</option>
                    <option>ADMIN & IT</option>
                    <option>DEVELOPERS</option>
                    <option>ACCOUNTS</option>
                    <option>EPLAN</option>
                </select>
            </div>
        </div>

        <br><br>

        <!-- Left Container and Task Details on Right -->
        <div class="d-flex">
            <!-- Left Container -->
            <div class="left-container bg-light">
<!--                <h4>Project Overview</h4>-->
<!--                <p>Add project-related information here</p>-->
            </div>

            <!-- Task Details -->
            <div class="task-details">
                <h1>TASK DETAILS</h1>
                <div class="card">
                    <h4>Total Task Time</h4>
                    <p align="center">hr</p>
                </div>
                <div class="card">
                    <h4>Total Week Time</h4>
                    <p align="center">hr</p>
                </div>
                <div class="card">
                    <h4>Total Month Time</h4>
                    <p align="center">hr</p>
                </div>
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <!-- Script for Current Time and Date -->
    <script>
        function updateTimeAndDate() {
            const now = new Date();

            // Format time in HH:MM:SS AM/PM
            let hours = now.getHours();
            let minutes = now.getMinutes();
            let seconds = now.getSeconds();
            let ampm = hours >= 12 ? 'PM' : 'AM';
            hours = hours % 12;
            hours = hours ? hours : 12; // the hour '0' should be '12'
            minutes = minutes < 10 ? '0' + minutes : minutes;
            seconds = seconds < 10 ? '0' + seconds : seconds;
            const timeString = `${hours}:${minutes}:${seconds} ${ampm}`;

            // Format date as FULL DAY MONTH DATE YEAR
            const options = { weekday: 'short', year: 'numeric', month: 'short', day: 'numeric' };
            const dateString = now.toLocaleDateString('en-US', options).toUpperCase();

            // Update time and date elements
            document.getElementById('current-time').textContent = timeString;
            document.getElementById('current-date').textContent = dateString;
        }

        setInterval(updateTimeAndDate, 1000); // Update every second
        updateTimeAndDate(); // Initial call to display time immediately
    </script>

</body>
</html>
